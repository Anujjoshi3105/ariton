<h1>Debug Tool</h1>

<button mat-button (click)="createInstance(1)">Create Web5 Instance 1</button>
<button mat-button (click)="restoreAgent(1)">Restore Agent</button>
<button mat-button (click)="createInstance(2)">Create Web5 Instance 2</button>
<button mat-button (click)="exportDid(1)">Export DID 1</button>
<button mat-button (click)="exportDid(2)">Export DID 2</button>

<mat-card>
  <mat-card-header>
    <mat-card-title>DWN Tool</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Target DID</mat-label>
      <input matInput [(ngModel)]="targetDid" placeholder="Enter DID" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Record ID</mat-label>
      <input matInput [(ngModel)]="recordId" placeholder="Enter Record ID" />
    </mat-form-field>

    <mat-form-field appearance="outline" subscriptSizing="dynamic" class="full-width">
      <textarea rows="6" matInput #body placeholder="Query (JSON)" [(ngModel)]="query"></textarea>
    </mat-form-field>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button (click)="dwnWrite()">Write</button>
    <button mat-button (click)="dwnQuery()">Query</button>
    <button mat-button (click)="dwnRead()">Read</button>
    <button mat-button (click)="lookupRecord()" [disabled]="!targetDid || !recordId">Lookup Record</button>
  </mat-card-actions>
</mat-card>

<br />

@if (result || status) {
<mat-card>
  <mat-card-header>
    <mat-card-title>DWN Result</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Status: {{ status }} <br /><br />
    Result:<br />
    <div class="formatted">{{ result }}</div>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button (click)="result = ''; status = ''">Close</button>
  </mat-card-actions>
</mat-card>
}
