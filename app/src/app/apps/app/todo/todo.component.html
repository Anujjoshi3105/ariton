<h1>Todo</h1>

<p>
  This is a demonstration app that shows the power of Ariton as a platform for building user centric data driven mini
  apps.
</p>

<button mat-flat-button (click)="newList()">New list</button><br /><br />
<button mat-flat-button (click)="newTodo()">New todo</button><br /><br />

@for(list of list(); track list) {
<!-- {{ todo | json }} -->
<div class="todo-list" [routerLink]="['/app', 'todo', list.id]">
  Title: {{ list.data.title }}<br />
  Description: {{ list.data.description }}<br />
  Type: {{ list.data.type }}<br />
</div>
}

<br /><br />

@for(todo of todos(); track todo) {
<!-- {{ todo | json }} -->
<div class="todo-list" [routerLink]="['/app', 'todo', todo.id]">
  author: {{ todo.data.author }}<br />
  Description: {{ todo.data.description }}<br />
  completed: {{ todo.data.completed }}<br />
</div>
}

<div class="container">
  <h2>To do</h2>

  <div
    cdkDropList
    #todoList="cdkDropList"
    [cdkDropListData]="todo"
    [cdkDropListConnectedTo]="doneList"
    class="list"
    (cdkDropListDropped)="drop($event)"
  >
    @for (item of todo; track item) {
    <div class="list-item" cdkDrag>{{ item }}</div>
    }
  </div>
</div>

<div class="container">
  <h2>Done</h2>

  <div
    cdkDropList
    #doneList="cdkDropList"
    [cdkDropListData]="done"
    [cdkDropListConnectedTo]="todoList"
    class="list"
    (cdkDropListDropped)="drop($event)"
  >
    @for (item of done; track item) {
    <div class="list-item" cdkDrag>{{ item }}</div>
    }
  </div>
</div>
